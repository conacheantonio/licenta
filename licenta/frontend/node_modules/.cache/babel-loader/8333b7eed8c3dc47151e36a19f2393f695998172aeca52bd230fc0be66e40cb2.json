{"ast":null,"code":"import'./header.css';import{useContext,useState}from'react';import{UserContext}from'../../context/context';import LogoutButton from'./logout-button/logout-button';import Navbar from'./navbar/navbar';import{placeOrder}from'../../api/orders';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Header(){const{role,userId}=useContext(UserContext);const[menuToggled,setMenuToggled]=useState(false);async function handlePlaceOrderClicked(){const books=(localStorage.getItem('books')||'').split(',').filter(Boolean);if(books.length){const res=await placeOrder(userId,books);if(res!==null&&res!==void 0&&res.length){alert(res);}else{localStorage.setItem('books','');window.location.reload();}}else{alert('Comanda trebuie sa contina cel putin o carte...');}}return role&&/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"img\",{src:\"/books-logo.svg\",alt:\"books\"}),/*#__PURE__*/_jsx(Navbar,{menuToggled:menuToggled}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"actions-container\",children:[role==='READER'&&/*#__PURE__*/_jsxs(\"button\",{className:\"place-order-button\",onClick:handlePlaceOrderClicked,children:[/*#__PURE__*/_jsx(\"img\",{src:\"/cart.png\",alt:\"cart\"}),\" Plaseaza comanda\"]}),role&&/*#__PURE__*/_jsx(LogoutButton,{})]}),/*#__PURE__*/_jsx(\"button\",{className:\"menu\",onClick:()=>setMenuToggled(old=>!old),children:/*#__PURE__*/_jsx(\"img\",{src:\"/menu.svg\",alt:\"menu\"})})]})]});}","map":{"version":3,"names":["useContext","useState","UserContext","LogoutButton","Navbar","placeOrder","jsx","_jsx","jsxs","_jsxs","Header","role","userId","menuToggled","setMenuToggled","handlePlaceOrderClicked","books","localStorage","getItem","split","filter","Boolean","length","res","alert","setItem","window","location","reload","children","src","alt","className","onClick","old"],"sources":["C:/Users/conac/Desktop/OFICIAL/bookstore/frontend/src/components/header/header.jsx"],"sourcesContent":["import './header.css'\r\nimport { useContext, useState } from 'react'\r\nimport { UserContext } from '../../context/context'\r\nimport LogoutButton from './logout-button/logout-button'\r\nimport Navbar from './navbar/navbar'\r\nimport { placeOrder } from '../../api/orders'\r\n\r\nexport default function Header() {\r\n    const { role, userId } = useContext(UserContext)\r\n    const [menuToggled, setMenuToggled] = useState(false)\r\n\r\n    async function handlePlaceOrderClicked() {\r\n        const books = ((localStorage.getItem('books') || '').split(',')).filter(Boolean)\r\n        if (books.length) {\r\n            const res = await placeOrder(userId, books)\r\n            if (res?.length) {\r\n                alert(res)\r\n            } else {\r\n                localStorage.setItem('books', '')\r\n                window.location.reload()\r\n            }\r\n        } else {\r\n            alert('Comanda trebuie sa contina cel putin o carte...')\r\n        }\r\n    }\r\n\r\n    return (\r\n        role && <header>\r\n            <img src=\"/books-logo.svg\" alt=\"books\"/>\r\n            <Navbar menuToggled={menuToggled}/>\r\n\r\n            <div className=\"buttons-container\">\r\n                <div className=\"actions-container\">\r\n                    {role === 'READER' &&\r\n                        <button className=\"place-order-button\" onClick={handlePlaceOrderClicked}>\r\n                            <img src=\"/cart.png\" alt=\"cart\" /> Plaseaza comanda\r\n                        </button>\r\n                    }\r\n\r\n                    {role && <LogoutButton />}\r\n                </div>\r\n\r\n                <button className=\"menu\" onClick={() => setMenuToggled((old) => !old)}><img src=\"/menu.svg\" alt=\"menu\" /></button>\r\n            </div>\r\n\r\n        </header>\r\n    )\r\n}"],"mappings":"AAAA,MAAO,cAAc,CACrB,OAASA,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CAC5C,OAASC,WAAW,KAAQ,uBAAuB,CACnD,MAAO,CAAAC,YAAY,KAAM,+BAA+B,CACxD,MAAO,CAAAC,MAAM,KAAM,iBAAiB,CACpC,OAASC,UAAU,KAAQ,kBAAkB,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7C,cAAe,SAAS,CAAAC,MAAMA,CAAA,CAAG,CAC7B,KAAM,CAAEC,IAAI,CAAEC,MAAO,CAAC,CAAGZ,UAAU,CAACE,WAAW,CAAC,CAChD,KAAM,CAACW,WAAW,CAAEC,cAAc,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAErD,cAAe,CAAAc,uBAAuBA,CAAA,CAAG,CACrC,KAAM,CAAAC,KAAK,CAAI,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAI,EAAE,EAAEC,KAAK,CAAC,GAAG,CAAC,CAAEC,MAAM,CAACC,OAAO,CAAC,CAChF,GAAIL,KAAK,CAACM,MAAM,CAAE,CACd,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAlB,UAAU,CAACO,MAAM,CAAEI,KAAK,CAAC,CAC3C,GAAIO,GAAG,SAAHA,GAAG,WAAHA,GAAG,CAAED,MAAM,CAAE,CACbE,KAAK,CAACD,GAAG,CAAC,CACd,CAAC,IAAM,CACHN,YAAY,CAACQ,OAAO,CAAC,OAAO,CAAE,EAAE,CAAC,CACjCC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAC5B,CACJ,CAAC,IAAM,CACHJ,KAAK,CAAC,iDAAiD,CAAC,CAC5D,CACJ,CAEA,MACI,CAAAb,IAAI,eAAIF,KAAA,WAAAoB,QAAA,eACJtB,IAAA,QAAKuB,GAAG,CAAC,iBAAiB,CAACC,GAAG,CAAC,OAAO,CAAC,CAAC,cACxCxB,IAAA,CAACH,MAAM,EAACS,WAAW,CAAEA,WAAY,CAAC,CAAC,cAEnCJ,KAAA,QAAKuB,SAAS,CAAC,mBAAmB,CAAAH,QAAA,eAC9BpB,KAAA,QAAKuB,SAAS,CAAC,mBAAmB,CAAAH,QAAA,EAC7BlB,IAAI,GAAK,QAAQ,eACdF,KAAA,WAAQuB,SAAS,CAAC,oBAAoB,CAACC,OAAO,CAAElB,uBAAwB,CAAAc,QAAA,eACpEtB,IAAA,QAAKuB,GAAG,CAAC,WAAW,CAACC,GAAG,CAAC,MAAM,CAAE,CAAC,oBACtC,EAAQ,CAAC,CAGZpB,IAAI,eAAIJ,IAAA,CAACJ,YAAY,GAAE,CAAC,EACxB,CAAC,cAENI,IAAA,WAAQyB,SAAS,CAAC,MAAM,CAACC,OAAO,CAAEA,CAAA,GAAMnB,cAAc,CAAEoB,GAAG,EAAK,CAACA,GAAG,CAAE,CAAAL,QAAA,cAACtB,IAAA,QAAKuB,GAAG,CAAC,WAAW,CAACC,GAAG,CAAC,MAAM,CAAE,CAAC,CAAQ,CAAC,EACjH,CAAC,EAEF,CAAC,CAEjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}