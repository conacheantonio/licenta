{"ast":null,"code":"import { serverUrl } from '../constants';\nimport { getToken } from '../utils/jwt';\nexport async function getOrders(setOrders, isAdmin, userId) {\n  const token = getToken();\n  if (!token) {\n    return '';\n  }\n  const res = await fetch(serverUrl + `/order${isAdmin ? '?userId=' + userId : '/list'}`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    credentials: 'include'\n  });\n  const orders = await res.json();\n  setOrders(orders);\n}\nexport async function placeOrder(userId, bookIds) {\n  const token = getToken();\n  if (!token) {\n    return '';\n  }\n  const res = await fetch(serverUrl + '/order', {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    credentials: 'include',\n    body: JSON.stringify({\n      userId,\n      bookIds\n    })\n  });\n  if (res.status === 204) {\n    return true;\n  } else {\n    const {\n      message\n    } = await res.json();\n    return message;\n  }\n}\nexport async function approveOrder(id) {\n  const token = getToken();\n  if (!token) {\n    return '';\n  }\n  const res = await fetch(serverUrl + `/order/approve?id=${id}`, {\n    method: 'PATCH',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    credentials: 'include'\n  });\n  return res.status === 204;\n}\nexport async function denyOrder(id) {\n  const token = getToken();\n  if (!token) {\n    return '';\n  }\n  const res = await fetch(serverUrl + `/order/deny?id=${id}`, {\n    method: 'PATCH',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    credentials: 'include'\n  });\n  return res.status === 204;\n}\nexport async function requestExtendOrder(id) {\n  const token = getToken();\n  if (!token) {\n    return '';\n  }\n  const res = await fetch(serverUrl + `/order/requestExtend?id=${id}`, {\n    method: 'PATCH',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    credentials: 'include'\n  });\n  return res.status === 204;\n}\nexport async function approveExtendOrder(id) {\n  const token = getToken();\n  if (!token) {\n    return '';\n  }\n  const res = await fetch(serverUrl + `/order/approveExtend?id=${id}`, {\n    method: 'PATCH',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    credentials: 'include'\n  });\n  return res.status === 204;\n}\nexport async function denyExtendOrder(id) {\n  const token = getToken();\n  if (!token) {\n    return '';\n  }\n  const res = await fetch(serverUrl + `/order/denyExtend?id=${id}`, {\n    method: 'PATCH',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    credentials: 'include'\n  });\n  return res.status === 204;\n}\nexport async function returnBook(id) {\n  const token = getToken();\n  if (!token) {\n    return '';\n  }\n  const res = await fetch(serverUrl + `/order/returnBook?id=${id}`, {\n    method: 'PATCH',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    credentials: 'include'\n  });\n  return res.status === 204;\n}","map":{"version":3,"names":["serverUrl","getToken","getOrders","setOrders","isAdmin","userId","token","res","fetch","method","headers","credentials","orders","json","placeOrder","bookIds","body","JSON","stringify","status","message","approveOrder","id","denyOrder","requestExtendOrder","approveExtendOrder","denyExtendOrder","returnBook"],"sources":["C:/Users/conac/Desktop/OFICIAL/bookstore/frontend/src/api/orders.js"],"sourcesContent":["import { serverUrl } from '../constants'\r\nimport { getToken } from '../utils/jwt'\r\n\r\nexport async function getOrders(setOrders, isAdmin, userId) {\r\n    const token = getToken()\r\n    if (!token) {\r\n        return ''\r\n    }\r\n    const res = await fetch(serverUrl + `/order${isAdmin ? '?userId=' + userId : '/list' }`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n    })\r\n    const orders = await res.json()\r\n    setOrders(orders)\r\n}\r\n\r\nexport async function placeOrder(userId, bookIds) {\r\n    const token = getToken()\r\n    if (!token) {\r\n        return ''\r\n    }\r\n    const res = await fetch(serverUrl + '/order', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify({\r\n            userId,\r\n            bookIds\r\n        })\r\n    })\r\n    if (res.status === 204) {\r\n        return true\r\n    } else {\r\n        const { message } = await res.json()\r\n        return message\r\n    }\r\n}\r\n\r\nexport async function approveOrder(id) {\r\n    const token = getToken()\r\n    if (!token) {\r\n        return ''\r\n    }\r\n    const res = await fetch(serverUrl + `/order/approve?id=${id}`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n    })\r\n    return res.status === 204\r\n}\r\n\r\nexport async function denyOrder(id) {\r\n    const token = getToken()\r\n    if (!token) {\r\n        return ''\r\n    }\r\n    const res = await fetch(serverUrl + `/order/deny?id=${id}`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n    })\r\n    return res.status === 204\r\n}\r\n\r\nexport async function requestExtendOrder(id) {\r\n    const token = getToken()\r\n    if (!token) {\r\n        return ''\r\n    }\r\n    const res = await fetch(serverUrl + `/order/requestExtend?id=${id}`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n    })\r\n    return res.status === 204\r\n}\r\n\r\nexport async function approveExtendOrder(id) {\r\n    const token = getToken()\r\n    if (!token) {\r\n        return ''\r\n    }\r\n    const res = await fetch(serverUrl + `/order/approveExtend?id=${id}`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n    })\r\n    return res.status === 204\r\n}\r\n\r\nexport async function denyExtendOrder(id) {\r\n    const token = getToken()\r\n    if (!token) {\r\n        return ''\r\n    }\r\n    const res = await fetch(serverUrl + `/order/denyExtend?id=${id}`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n    })\r\n    return res.status === 204\r\n}\r\n\r\nexport async function returnBook(id) {\r\n    const token = getToken()\r\n    if (!token) {\r\n        return ''\r\n    }\r\n    const res = await fetch(serverUrl + `/order/returnBook?id=${id}`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n    })\r\n    return res.status === 204\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}