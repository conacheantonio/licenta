{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\conac\\\\Desktop\\\\OFICIAL\\\\bookstore\\\\frontend\\\\src\\\\components\\\\order\\\\order-row\\\\reader-format\\\\order-reader-format.jsx\",\n  _s = $RefreshSig$();\nimport { requestExtendOrder, returnBook } from '../../../../api/orders';\nimport { transformDate } from '../../../../utils/dates';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function OrderReader({\n  index,\n  id,\n  title,\n  author,\n  order_status,\n  date_created,\n  extend_status,\n  return_date,\n  start_date,\n  is_late\n}) {\n  _s();\n  const [returnDate, setReturnDate] = useState(return_date);\n  const [extendStatus, setExtendStatus] = useState(extend_status);\n  async function handleReturnBook() {\n    await returnBook(id);\n    // if success read timestamp from db\n    // potential timezones issue\n    setReturnDate(new Date().toISOString().split('.')[0].replace('T', ' '));\n  }\n  async function handleExtendOrderRequested() {\n    await requestExtendOrder(id);\n    // if success\n    setExtendStatus('WAITING FOR APPROVE');\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"table-head-col\",\n      children: \"Numar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `table-content-${index % 2 ? 'even' : 'odd'}`,\n      children: index + 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"table-head-col\",\n      children: \"Titlu\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `table-content-${index % 2 ? 'even' : 'odd'}`,\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"table-head-col\",\n      children: \"Autor\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `table-content-${index % 2 ? 'even' : 'odd'}`,\n      children: author\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"table-head-col\",\n      children: \"Statusul comenzii\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `table-content-${index % 2 ? 'even' : 'odd'} ${order_status === 'PROCESSING' ? 'processing' : ''}`,\n      children: order_status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"table-head-col\",\n      children: \"Data plasarii comenzii\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `table-content-${index % 2 ? 'even' : 'odd'}`,\n      children: transformDate(date_created)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"table-head-col\",\n      children: \"Data inceperii\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `table-content-${index % 2 ? 'even' : 'odd'}`,\n      children: transformDate(start_date)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"table-head-col\",\n      children: \"Statusul prelungirii\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `table-content-${index % 2 ? 'even' : 'odd'} ${extendStatus === 'PROCESSING' ? 'processing' : ''}`,\n      children: extendStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"table-head-col\",\n      children: \"Data returului\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `table-content-${index % 2 ? 'even' : 'odd'}`,\n      children: transformDate(returnDate)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"table-head-col\",\n      children: \"Intarziere?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `table-content-${index % 2 ? 'even' : 'odd'}`,\n      children: is_late ? 'da' : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"table-head-col\",\n      children: \"Actiuni\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `table-content-${index % 2 ? 'even' : 'odd'}`,\n      children: [order_status === 'APPROVED' && !return_date && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleReturnBook,\n        children: \"Returneaza\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 65\n      }, this), order_status === 'APPROVED' && !extendStatus && !return_date && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleExtendOrderRequested,\n        children: \"Prelungeste\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 82\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(OrderReader, \"Lc25pnzuvsg8SmyMaHV80YK9kL0=\");\n_c = OrderReader;\nvar _c;\n$RefreshReg$(_c, \"OrderReader\");","map":{"version":3,"names":["requestExtendOrder","returnBook","transformDate","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","OrderReader","index","id","title","author","order_status","date_created","extend_status","return_date","start_date","is_late","_s","returnDate","setReturnDate","extendStatus","setExtendStatus","handleReturnBook","Date","toISOString","split","replace","handleExtendOrderRequested","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/conac/Desktop/OFICIAL/bookstore/frontend/src/components/order/order-row/reader-format/order-reader-format.jsx"],"sourcesContent":["import { requestExtendOrder, returnBook } from '../../../../api/orders'\r\nimport { transformDate } from '../../../../utils/dates'\r\nimport { useState } from 'react'\r\n\r\nexport default function OrderReader({ index, id, title, author, order_status, date_created, extend_status, return_date, start_date, is_late }) {\r\n    const [returnDate, setReturnDate] = useState(return_date)\r\n    const [extendStatus, setExtendStatus] = useState(extend_status)\r\n\r\n    async function handleReturnBook() {\r\n        await returnBook(id)\r\n        // if success read timestamp from db\r\n        // potential timezones issue\r\n        setReturnDate(new Date().toISOString().split('.')[0].replace('T', ' '))\r\n    }\r\n\r\n    async function handleExtendOrderRequested() {\r\n        await requestExtendOrder(id)\r\n        // if success\r\n        setExtendStatus('WAITING FOR APPROVE')\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <span className=\"table-head-col\">Numar</span>\r\n            <span className={`table-content-${index % 2 ? 'even' : 'odd'}`}>{index + 1}</span>\r\n            <span className=\"table-head-col\">Titlu</span>\r\n            <span className={`table-content-${index % 2 ? 'even' : 'odd'}`}>{title}</span>\r\n            <span className=\"table-head-col\">Autor</span>\r\n            <span className={`table-content-${index % 2 ? 'even' : 'odd'}`}>{author}</span>\r\n            <span className=\"table-head-col\">Statusul comenzii</span>\r\n            <span className={`table-content-${index % 2 ? 'even' : 'odd'} ${order_status === 'PROCESSING' ? 'processing' : ''}`}>{order_status}</span>\r\n            <span className=\"table-head-col\">Data plasarii comenzii</span>\r\n            <span className={`table-content-${index % 2 ? 'even' : 'odd'}`}>{transformDate(date_created)}</span>\r\n            <span className=\"table-head-col\">Data inceperii</span>\r\n            <span className={`table-content-${index % 2 ? 'even' : 'odd'}`}>{transformDate(start_date)}</span>\r\n            <span className=\"table-head-col\">Statusul prelungirii</span>\r\n            <span className={`table-content-${index % 2 ? 'even' : 'odd'} ${extendStatus === 'PROCESSING' ? 'processing' : ''}`}>{extendStatus}</span>\r\n            <span className=\"table-head-col\">Data returului</span>\r\n            <span className={`table-content-${index % 2 ? 'even' : 'odd'}`}>{transformDate(returnDate)}</span>\r\n            <span className=\"table-head-col\">Intarziere?</span>\r\n            <span className={`table-content-${index % 2 ? 'even' : 'odd'}`}>{is_late ? 'da' : ''}</span>\r\n            <span className=\"table-head-col\">Actiuni</span>\r\n            <span className={`table-content-${index % 2 ? 'even' : 'odd'}`}>\r\n                {order_status === 'APPROVED' && !return_date && <button onClick={handleReturnBook}>Returneaza</button>}\r\n                {order_status === 'APPROVED' && !extendStatus && !return_date && <button onClick={handleExtendOrderRequested}>Prelungeste</button>}\r\n            </span>\r\n            <hr />\r\n            <hr />\r\n        </>\r\n    )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}