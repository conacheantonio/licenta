{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\conac\\\\Desktop\\\\OFICIAL\\\\bookstore\\\\frontend\\\\src\\\\components\\\\book\\\\new-book-form\\\\new-book-form.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport Error from '../../error/error';\nimport { createBook } from '../../../api/book';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function NewBookForm() {\n  _s();\n  const [ISBN, setISBN] = useState('');\n  const [title, setTitle] = useState('');\n  const [author, setAuthor] = useState('');\n  const [description, setDescription] = useState('');\n  const [year, setYear] = useState(new Date().getFullYear());\n  const [pages, setPages] = useState(0);\n  const [genre, setGenre] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  async function handleFormSubmit(event) {\n    // prevent redirect before validations\n    event.preventDefault();\n    try {\n      const response = await createBook({\n        ISBN: Number(ISBN),\n        title,\n        author,\n        description,\n        year: Number(year),\n        pages: Number(pages),\n        genre\n      });\n\n      // check for error\n      const status = response.status;\n      if (status !== 204) {\n        const json = await response.json();\n        setErrorMessage(json.message);\n        return;\n      }\n      // refresh books list\n      window.location.reload();\n    } catch (e) {\n      // server died or response could not be read\n      setErrorMessage('Ceva nu a mers. Te rugam sa revii mai tarziu.');\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: event => handleFormSubmit(event),\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"ISBN\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        onChange: event => setISBN(event.target.value),\n        placeholder: \"13 cifre incepand cu 978\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Titlu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onChange: event => setTitle(event.target.value),\n        placeholder: \"Titlul cartii\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Autor\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onChange: event => setAuthor(event.target.value),\n        placeholder: \"Autorul\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Descriere\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onChange: event => setDescription(event.target.value),\n        placeholder: \"Descriere scurta\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"An\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        onChange: event => setYear(event.target.value),\n        placeholder: \"min 2007, max anul curent\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Numar de pagini\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        onChange: event => setPages(event.target.value),\n        placeholder: \"numarul de pagini\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Gen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onChange: event => setGenre(event.target.value),\n        placeholder: \"genul literar\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Adauga\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Error, {\n      message: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(NewBookForm, \"f07a1CEbm0gmHuX/jjgOc9TBSUM=\");\n_c = NewBookForm;\nvar _c;\n$RefreshReg$(_c, \"NewBookForm\");","map":{"version":3,"names":["useState","Error","createBook","jsxDEV","_jsxDEV","Fragment","_Fragment","NewBookForm","_s","ISBN","setISBN","title","setTitle","author","setAuthor","description","setDescription","year","setYear","Date","getFullYear","pages","setPages","genre","setGenre","errorMessage","setErrorMessage","handleFormSubmit","event","preventDefault","response","Number","status","json","message","window","location","reload","e","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","target","value","placeholder","required","_c","$RefreshReg$"],"sources":["C:/Users/conac/Desktop/OFICIAL/bookstore/frontend/src/components/book/new-book-form/new-book-form.jsx"],"sourcesContent":["import { useState } from 'react'\r\nimport Error from '../../error/error'\r\nimport { createBook } from '../../../api/book'\r\n\r\nexport default function NewBookForm() {\r\n    const [ISBN, setISBN] = useState('')\r\n    const [title, setTitle] = useState('')\r\n    const [author, setAuthor] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const [year, setYear] = useState(new Date().getFullYear())\r\n    const [pages, setPages] = useState(0)\r\n    const [genre, setGenre] = useState('')\r\n    const [errorMessage, setErrorMessage] = useState('')\r\n\r\n    async function handleFormSubmit(event) {\r\n        // prevent redirect before validations\r\n        event.preventDefault()\r\n        try {\r\n            const response = await createBook({ ISBN: Number(ISBN), title, author, description, year: Number(year), pages: Number(pages), genre })\r\n\r\n            // check for error\r\n            const status = response.status\r\n            if (status !== 204) {\r\n                const json = await response.json()\r\n                setErrorMessage(json.message)\r\n                return\r\n            }\r\n            // refresh books list\r\n            window.location.reload()\r\n        } catch (e) { // server died or response could not be read\r\n            setErrorMessage('Ceva nu a mers. Te rugam sa revii mai tarziu.')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <form onSubmit={(event) => handleFormSubmit(event)}>\r\n                <label>ISBN</label>\r\n                <input type=\"number\" onChange={(event) => setISBN(event.target.value)} placeholder=\"13 cifre incepand cu 978\" required/>\r\n                <label>Titlu</label>\r\n                <input type=\"text\" onChange={(event) => setTitle(event.target.value)} placeholder=\"Titlul cartii\" required/>\r\n                <label>Autor</label>\r\n                <input type=\"text\" onChange={(event) => setAuthor(event.target.value)} placeholder=\"Autorul\" required/>\r\n                <label>Descriere</label>\r\n                <input type=\"text\" onChange={(event) => setDescription(event.target.value)} placeholder=\"Descriere scurta\" required/>\r\n                <label>An</label>\r\n                <input type=\"number\" onChange={(event) => setYear(event.target.value)} placeholder=\"min 2007, max anul curent\" required/>\r\n                <label>Numar de pagini</label>\r\n                <input type=\"number\" onChange={(event) => setPages(event.target.value)} placeholder=\"numarul de pagini\" required/>\r\n                <label>Gen</label>\r\n                <input type=\"text\" onChange={(event) => setGenre(event.target.value)} placeholder=\"genul literar\" required/>\r\n                <button type=\"submit\">Adauga</button>\r\n            </form>\r\n            <Error message={errorMessage} />\r\n        </>\r\n    )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}