{"ast":null,"code":"import{useState}from'react';import{approveExtendOrder,approveOrder,denyExtendOrder,denyOrder}from'../../../../api/orders';import{transformDate}from'../../../../utils/dates';import{getEvenOddClass}from'../../../../utils/classes';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export default function OrderAdmin(_ref){let{index,id,email,ISBN,title,author,order_status,date_created,extend_status,return_date,start_date,is_late}=_ref;const[orderStatus,setOrderStatus]=useState(order_status);const[extendStatus,setExtendStatus]=useState(extend_status);async function handleOrderApproved(){await approveOrder(id);// if success\nsetOrderStatus('APPROVED');}async function handleOrderDenied(){await denyOrder(id);// if success\nsetOrderStatus('DENIED');}async function handleExtendOrderApproved(){await approveExtendOrder(id);// if success\nsetExtendStatus('APPROVED');}async function handleExtendOrderDenied(){await denyExtendOrder(id);// if success\nsetExtendStatus('DENIED');}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"table-head-col\",children:\"Numar\"}),/*#__PURE__*/_jsx(\"span\",{className:\"table-content-\".concat(getEvenOddClass(index)),children:index+1}),/*#__PURE__*/_jsx(\"span\",{className:\"table-head-col\",children:\"Email\"}),/*#__PURE__*/_jsx(\"span\",{className:\"table-content-\".concat(getEvenOddClass(index)),children:email}),/*#__PURE__*/_jsx(\"span\",{className:\"table-head-col\",children:\"ISBN\"}),/*#__PURE__*/_jsx(\"span\",{className:\"table-content-\".concat(getEvenOddClass(index)),children:ISBN}),/*#__PURE__*/_jsx(\"span\",{className:\"table-head-col\",children:\"Titlu\"}),/*#__PURE__*/_jsx(\"span\",{className:\"table-content-\".concat(getEvenOddClass(index)),children:title}),/*#__PURE__*/_jsx(\"span\",{className:\"table-head-col\",children:\"Autor\"}),/*#__PURE__*/_jsx(\"span\",{className:\"table-content-\".concat(getEvenOddClass(index)),children:author}),/*#__PURE__*/_jsx(\"span\",{className:\"table-head-col\",children:\"Statusul comenzii\"}),/*#__PURE__*/_jsx(\"span\",{className:\"table-content-\".concat(getEvenOddClass(index),\" \").concat(orderStatus==='PROCESSING'?'processing':''),children:orderStatus}),/*#__PURE__*/_jsx(\"span\",{className:\"table-head-col\",children:\"Plasata pe\"}),/*#__PURE__*/_jsx(\"span\",{className:\"table-content-\".concat(getEvenOddClass(index)),children:transformDate(date_created)}),/*#__PURE__*/_jsx(\"span\",{className:\"table-head-col\",children:\"Data inceperii\"}),/*#__PURE__*/_jsx(\"span\",{className:\"table-content-\".concat(getEvenOddClass(index)),children:transformDate(start_date)}),/*#__PURE__*/_jsx(\"span\",{className:\"table-head-col\",children:\"Statusul prelungirii\"}),/*#__PURE__*/_jsx(\"span\",{className:\"table-content-\".concat(getEvenOddClass(index),\"  \").concat(extendStatus==='PROCESSING'?'processing':''),children:extendStatus}),/*#__PURE__*/_jsx(\"span\",{className:\"table-head-col\",children:\"Data returului\"}),/*#__PURE__*/_jsx(\"span\",{className:\"table-content-\".concat(getEvenOddClass(index)),children:transformDate(return_date)}),/*#__PURE__*/_jsx(\"span\",{className:\"table-head-col\",children:\"Intarziere?\"}),/*#__PURE__*/_jsx(\"span\",{className:\"table-content-\".concat(getEvenOddClass(index)),children:is_late?'da':''}),/*#__PURE__*/_jsx(\"span\",{className:\"table-head-col\",children:\"Actiuni\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"table-content-\".concat(getEvenOddClass(index)),children:[orderStatus==='PROCESSING'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleOrderApproved,children:\"Aproba\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleOrderDenied,children:\"Respinge\"})]}),extendStatus==='WAITING FOR APPROVE'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleExtendOrderApproved,children:\"Aproba\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExtendOrderDenied,children:\"Respinge\"})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"hr\",{})]});}","map":{"version":3,"names":["useState","approveExtendOrder","approveOrder","denyExtendOrder","denyOrder","transformDate","getEvenOddClass","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","OrderAdmin","_ref","index","id","email","ISBN","title","author","order_status","date_created","extend_status","return_date","start_date","is_late","orderStatus","setOrderStatus","extendStatus","setExtendStatus","handleOrderApproved","handleOrderDenied","handleExtendOrderApproved","handleExtendOrderDenied","children","className","concat","onClick"],"sources":["C:/Users/conac/Desktop/OFICIAL/bookstore/frontend/src/components/order/order-row/admin-format/order-admin-format.jsx"],"sourcesContent":["import { useState } from 'react'\r\nimport { approveExtendOrder, approveOrder, denyExtendOrder, denyOrder } from '../../../../api/orders'\r\nimport { transformDate } from '../../../../utils/dates'\r\nimport { getEvenOddClass } from '../../../../utils/classes'\r\n\r\nexport default function OrderAdmin({ index, id, email, ISBN, title, author, order_status, date_created, extend_status, return_date, start_date, is_late }) {\r\n    const [orderStatus, setOrderStatus] = useState(order_status)\r\n    const [extendStatus, setExtendStatus] = useState(extend_status)\r\n\r\n    async function handleOrderApproved() {\r\n        await approveOrder(id)\r\n        // if success\r\n        setOrderStatus('APPROVED')\r\n    }\r\n\r\n    async function handleOrderDenied() {\r\n        await denyOrder(id)\r\n        // if success\r\n        setOrderStatus('DENIED')\r\n    }\r\n\r\n    async function handleExtendOrderApproved() {\r\n        await approveExtendOrder(id)\r\n        // if success\r\n        setExtendStatus('APPROVED')\r\n    }\r\n\r\n    async function handleExtendOrderDenied() {\r\n        await denyExtendOrder(id)\r\n        // if success\r\n        setExtendStatus('DENIED')\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <span className=\"table-head-col\">Numar</span>\r\n            <span className={`table-content-${getEvenOddClass(index)}`}>{index + 1}</span>\r\n            <span className=\"table-head-col\">Email</span>\r\n            <span className={`table-content-${getEvenOddClass(index)}`}>{email}</span>\r\n            <span className=\"table-head-col\">ISBN</span>\r\n            <span className={`table-content-${getEvenOddClass(index)}`}>{ISBN}</span>\r\n            <span className=\"table-head-col\">Titlu</span>\r\n            <span className={`table-content-${getEvenOddClass(index)}`}>{title}</span>\r\n            <span className=\"table-head-col\">Autor</span>\r\n            <span className={`table-content-${getEvenOddClass(index)}`}>{author}</span>\r\n            <span className=\"table-head-col\">Statusul comenzii</span>\r\n            <span className={`table-content-${getEvenOddClass(index)} ${orderStatus === 'PROCESSING' ? 'processing' : ''}`}>{orderStatus}</span>\r\n            <span className=\"table-head-col\">Plasata pe</span>\r\n            <span className={`table-content-${getEvenOddClass(index)}`}>{transformDate(date_created)}</span>\r\n            <span className=\"table-head-col\">Data inceperii</span>\r\n            <span className={`table-content-${getEvenOddClass(index)}`}>{transformDate(start_date)}</span>\r\n            <span className=\"table-head-col\">Statusul prelungirii</span>\r\n            <span className={`table-content-${getEvenOddClass(index)}  ${extendStatus === 'PROCESSING' ? 'processing' : ''}`}>{extendStatus}</span>\r\n            <span className=\"table-head-col\">Data returului</span>\r\n            <span className={`table-content-${getEvenOddClass(index)}`}>{transformDate(return_date)}</span>\r\n            <span className=\"table-head-col\">Intarziere?</span>\r\n            <span className={`table-content-${getEvenOddClass(index)}`}>{is_late ? 'da' : ''}</span>\r\n            <span className=\"table-head-col\">Actiuni</span>\r\n            <span className={`table-content-${getEvenOddClass(index)}`}>\r\n                {orderStatus === 'PROCESSING' && <>\r\n                    <button onClick={handleOrderApproved}>Aproba</button>\r\n                    <button onClick={handleOrderDenied}>Respinge</button>\r\n                </>}\r\n                {extendStatus === 'WAITING FOR APPROVE' && <>\r\n                    <button onClick={handleExtendOrderApproved}>Aproba</button>\r\n                    <button onClick={handleExtendOrderDenied}>Respinge</button>\r\n                </>}\r\n            </span>\r\n            <hr />\r\n            <hr />\r\n        </>\r\n    )\r\n}"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,kBAAkB,CAAEC,YAAY,CAAEC,eAAe,CAAEC,SAAS,KAAQ,wBAAwB,CACrG,OAASC,aAAa,KAAQ,yBAAyB,CACvD,OAASC,eAAe,KAAQ,2BAA2B,QAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3D,cAAe,SAAS,CAAAC,UAAUA,CAAAC,IAAA,CAAyH,IAAxH,CAAEC,KAAK,CAAEC,EAAE,CAAEC,KAAK,CAAEC,IAAI,CAAEC,KAAK,CAAEC,MAAM,CAAEC,YAAY,CAAEC,YAAY,CAAEC,aAAa,CAAEC,WAAW,CAAEC,UAAU,CAAEC,OAAQ,CAAC,CAAAZ,IAAA,CACrJ,KAAM,CAACa,WAAW,CAAEC,cAAc,CAAC,CAAG5B,QAAQ,CAACqB,YAAY,CAAC,CAC5D,KAAM,CAACQ,YAAY,CAAEC,eAAe,CAAC,CAAG9B,QAAQ,CAACuB,aAAa,CAAC,CAE/D,cAAe,CAAAQ,mBAAmBA,CAAA,CAAG,CACjC,KAAM,CAAA7B,YAAY,CAACc,EAAE,CAAC,CACtB;AACAY,cAAc,CAAC,UAAU,CAAC,CAC9B,CAEA,cAAe,CAAAI,iBAAiBA,CAAA,CAAG,CAC/B,KAAM,CAAA5B,SAAS,CAACY,EAAE,CAAC,CACnB;AACAY,cAAc,CAAC,QAAQ,CAAC,CAC5B,CAEA,cAAe,CAAAK,yBAAyBA,CAAA,CAAG,CACvC,KAAM,CAAAhC,kBAAkB,CAACe,EAAE,CAAC,CAC5B;AACAc,eAAe,CAAC,UAAU,CAAC,CAC/B,CAEA,cAAe,CAAAI,uBAAuBA,CAAA,CAAG,CACrC,KAAM,CAAA/B,eAAe,CAACa,EAAE,CAAC,CACzB;AACAc,eAAe,CAAC,QAAQ,CAAC,CAC7B,CAEA,mBACIlB,KAAA,CAAAF,SAAA,EAAAyB,QAAA,eACI3B,IAAA,SAAM4B,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAC,OAAK,CAAM,CAAC,cAC7C3B,IAAA,SAAM4B,SAAS,kBAAAC,MAAA,CAAmB/B,eAAe,CAACS,KAAK,CAAC,CAAG,CAAAoB,QAAA,CAAEpB,KAAK,CAAG,CAAC,CAAO,CAAC,cAC9EP,IAAA,SAAM4B,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAC,OAAK,CAAM,CAAC,cAC7C3B,IAAA,SAAM4B,SAAS,kBAAAC,MAAA,CAAmB/B,eAAe,CAACS,KAAK,CAAC,CAAG,CAAAoB,QAAA,CAAElB,KAAK,CAAO,CAAC,cAC1ET,IAAA,SAAM4B,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAC,MAAI,CAAM,CAAC,cAC5C3B,IAAA,SAAM4B,SAAS,kBAAAC,MAAA,CAAmB/B,eAAe,CAACS,KAAK,CAAC,CAAG,CAAAoB,QAAA,CAAEjB,IAAI,CAAO,CAAC,cACzEV,IAAA,SAAM4B,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAC,OAAK,CAAM,CAAC,cAC7C3B,IAAA,SAAM4B,SAAS,kBAAAC,MAAA,CAAmB/B,eAAe,CAACS,KAAK,CAAC,CAAG,CAAAoB,QAAA,CAAEhB,KAAK,CAAO,CAAC,cAC1EX,IAAA,SAAM4B,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAC,OAAK,CAAM,CAAC,cAC7C3B,IAAA,SAAM4B,SAAS,kBAAAC,MAAA,CAAmB/B,eAAe,CAACS,KAAK,CAAC,CAAG,CAAAoB,QAAA,CAAEf,MAAM,CAAO,CAAC,cAC3EZ,IAAA,SAAM4B,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAC,mBAAiB,CAAM,CAAC,cACzD3B,IAAA,SAAM4B,SAAS,kBAAAC,MAAA,CAAmB/B,eAAe,CAACS,KAAK,CAAC,MAAAsB,MAAA,CAAIV,WAAW,GAAK,YAAY,CAAG,YAAY,CAAG,EAAE,CAAG,CAAAQ,QAAA,CAAER,WAAW,CAAO,CAAC,cACpInB,IAAA,SAAM4B,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAC,YAAU,CAAM,CAAC,cAClD3B,IAAA,SAAM4B,SAAS,kBAAAC,MAAA,CAAmB/B,eAAe,CAACS,KAAK,CAAC,CAAG,CAAAoB,QAAA,CAAE9B,aAAa,CAACiB,YAAY,CAAC,CAAO,CAAC,cAChGd,IAAA,SAAM4B,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAC,gBAAc,CAAM,CAAC,cACtD3B,IAAA,SAAM4B,SAAS,kBAAAC,MAAA,CAAmB/B,eAAe,CAACS,KAAK,CAAC,CAAG,CAAAoB,QAAA,CAAE9B,aAAa,CAACoB,UAAU,CAAC,CAAO,CAAC,cAC9FjB,IAAA,SAAM4B,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAC,sBAAoB,CAAM,CAAC,cAC5D3B,IAAA,SAAM4B,SAAS,kBAAAC,MAAA,CAAmB/B,eAAe,CAACS,KAAK,CAAC,OAAAsB,MAAA,CAAKR,YAAY,GAAK,YAAY,CAAG,YAAY,CAAG,EAAE,CAAG,CAAAM,QAAA,CAAEN,YAAY,CAAO,CAAC,cACvIrB,IAAA,SAAM4B,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAC,gBAAc,CAAM,CAAC,cACtD3B,IAAA,SAAM4B,SAAS,kBAAAC,MAAA,CAAmB/B,eAAe,CAACS,KAAK,CAAC,CAAG,CAAAoB,QAAA,CAAE9B,aAAa,CAACmB,WAAW,CAAC,CAAO,CAAC,cAC/FhB,IAAA,SAAM4B,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAC,aAAW,CAAM,CAAC,cACnD3B,IAAA,SAAM4B,SAAS,kBAAAC,MAAA,CAAmB/B,eAAe,CAACS,KAAK,CAAC,CAAG,CAAAoB,QAAA,CAAET,OAAO,CAAG,IAAI,CAAG,EAAE,CAAO,CAAC,cACxFlB,IAAA,SAAM4B,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAC,SAAO,CAAM,CAAC,cAC/CvB,KAAA,SAAMwB,SAAS,kBAAAC,MAAA,CAAmB/B,eAAe,CAACS,KAAK,CAAC,CAAG,CAAAoB,QAAA,EACtDR,WAAW,GAAK,YAAY,eAAIf,KAAA,CAAAF,SAAA,EAAAyB,QAAA,eAC7B3B,IAAA,WAAQ8B,OAAO,CAAEP,mBAAoB,CAAAI,QAAA,CAAC,QAAM,CAAQ,CAAC,cACrD3B,IAAA,WAAQ8B,OAAO,CAAEN,iBAAkB,CAAAG,QAAA,CAAC,UAAQ,CAAQ,CAAC,EACvD,CAAC,CACFN,YAAY,GAAK,qBAAqB,eAAIjB,KAAA,CAAAF,SAAA,EAAAyB,QAAA,eACvC3B,IAAA,WAAQ8B,OAAO,CAAEL,yBAA0B,CAAAE,QAAA,CAAC,QAAM,CAAQ,CAAC,cAC3D3B,IAAA,WAAQ8B,OAAO,CAAEJ,uBAAwB,CAAAC,QAAA,CAAC,UAAQ,CAAQ,CAAC,EAC7D,CAAC,EACD,CAAC,cACP3B,IAAA,QAAK,CAAC,cACNA,IAAA,QAAK,CAAC,EACR,CAAC,CAEX","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}