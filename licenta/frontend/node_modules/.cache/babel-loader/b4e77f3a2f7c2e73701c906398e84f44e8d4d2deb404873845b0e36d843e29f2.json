{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\conac\\\\Desktop\\\\OFICIAL\\\\bookstore\\\\frontend\\\\src\\\\components\\\\book\\\\increase-book-stock-form\\\\increase-book-stock-form.jsx\",\n  _s = $RefreshSig$();\nimport './increase-book-stock-form.css';\nimport { useState } from 'react';\nimport Error from '../../error/error';\nimport { increaseBookStock } from '../../../api/book';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function IncreaseBookStockForm({\n  id,\n  setShowStockForm\n}) {\n  _s();\n  const [ISBN, setISBN] = useState('');\n  const [year, setYear] = useState(new Date().getFullYear());\n  const [pages, setPages] = useState(0);\n  const [errorMessage, setErrorMessage] = useState('');\n  async function handleFormSubmit(event) {\n    // prevent redirect before validations\n    event.preventDefault();\n    try {\n      const response = await increaseBookStock({\n        id,\n        ISBN: Number(ISBN),\n        year: Number(year),\n        pages: Number(pages)\n      });\n\n      // check for error\n      const status = response.status;\n      if (status !== 204) {\n        const json = await response.json();\n        setErrorMessage(json.message);\n        return;\n      }\n      // refresh books list\n      window.location.reload();\n    } catch (e) {\n      // server died or response could not be read\n      setErrorMessage('Ceva nu a mers. Te rugam sa revii mai tarziu.');\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"increase-book-form-modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: event => handleFormSubmit(event),\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"ISBN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          onChange: event => setISBN(event.target.value),\n          placeholder: \"13 cifre incepand cu 978\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"An\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          onChange: event => setYear(event.target.value),\n          placeholder: \"min 2007, max anul curent\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Numar de pagini\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          onChange: event => setPages(event.target.value),\n          placeholder: \"numarul de pagini\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Adauga\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cancel\",\n          onClick: () => setShowStockForm(false),\n          children: \"X\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Error, {\n        message: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(IncreaseBookStockForm, \"lzJQwKjoLB1FAjl6iBHs6pq8ar0=\");\n_c = IncreaseBookStockForm;\nvar _c;\n$RefreshReg$(_c, \"IncreaseBookStockForm\");","map":{"version":3,"names":["useState","Error","increaseBookStock","jsxDEV","_jsxDEV","Fragment","_Fragment","IncreaseBookStockForm","id","setShowStockForm","_s","ISBN","setISBN","year","setYear","Date","getFullYear","pages","setPages","errorMessage","setErrorMessage","handleFormSubmit","event","preventDefault","response","Number","status","json","message","window","location","reload","e","children","className","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","target","value","placeholder","required","onClick","_c","$RefreshReg$"],"sources":["C:/Users/conac/Desktop/OFICIAL/bookstore/frontend/src/components/book/increase-book-stock-form/increase-book-stock-form.jsx"],"sourcesContent":["import './increase-book-stock-form.css'\r\nimport { useState } from 'react'\r\nimport Error from '../../error/error'\r\nimport { increaseBookStock } from '../../../api/book'\r\n\r\nexport default function IncreaseBookStockForm({ id, setShowStockForm }) {\r\n    const [ISBN, setISBN] = useState('')\r\n    const [year, setYear] = useState(new Date().getFullYear())\r\n    const [pages, setPages] = useState(0)\r\n    const [errorMessage, setErrorMessage] = useState('')\r\n\r\n    async function handleFormSubmit(event) {\r\n        // prevent redirect before validations\r\n        event.preventDefault()\r\n        try {\r\n            const response = await increaseBookStock({ id, ISBN: Number(ISBN), year: Number(year), pages: Number(pages) })\r\n\r\n            // check for error\r\n            const status = response.status\r\n            if (status !== 204) {\r\n                const json = await response.json()\r\n                setErrorMessage(json.message)\r\n                return\r\n            }\r\n            // refresh books list\r\n            window.location.reload()\r\n        } catch (e) { // server died or response could not be read\r\n            setErrorMessage('Ceva nu a mers. Te rugam sa revii mai tarziu.')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"increase-book-form-modal\">\r\n                <form onSubmit={(event) => handleFormSubmit(event)}>\r\n                    <label>ISBN</label>\r\n                    <input type=\"number\" onChange={(event) => setISBN(event.target.value)} placeholder=\"13 cifre incepand cu 978\" required/>\r\n                    <label>An</label>\r\n                    <input type=\"text\" onChange={(event) => setYear(event.target.value)} placeholder=\"min 2007, max anul curent\" required/>\r\n                    <label>Numar de pagini</label>\r\n                    <input type=\"text\" onChange={(event) => setPages(event.target.value)} placeholder=\"numarul de pagini\" required/>\r\n                    <button type=\"submit\">Adauga</button>\r\n                    <button className=\"cancel\" onClick={() => setShowStockForm(false)}>X</button>\r\n                </form>\r\n                <Error message={errorMessage} />\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}