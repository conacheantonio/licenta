{"ast":null,"code":"import{serverUrl}from'../constants';import{getToken}from'../utils/jwt';export async function getAllUsers(callback){const token=getToken();if(!token){return'';}const res=await fetch(serverUrl+'/users',{method:'GET',headers:{'Accept':'application/json','Content-Type':'application/json'},credentials:'include'});const json=await res.json();callback(json.users);}export async function makeAdmin(id){const token=getToken();if(!token){return'';}const res=await fetch(serverUrl+\"/users/makeAdmin?id=\".concat(id),{method:'PATCH',headers:{'Accept':'application/json','Content-Type':'application/json'},credentials:'include'});// const json = await res.json() // validate no error\nif(res.status===204){return true;}else{const{message}=await res.json();return message;}}export async function approveUser(id){const token=getToken();if(!token){return'';}const res=await fetch(serverUrl+\"/users/approveUser?id=\".concat(id),{method:'PATCH',headers:{'Accept':'application/json','Content-Type':'application/json'},credentials:'include'});// const json = await res.json() // validate no error\nreturn res.status===204;}export async function banUser(id){const token=getToken();if(!token){return'';}const res=await fetch(serverUrl+\"/users/banUser?id=\".concat(id),{method:'PATCH',headers:{'Accept':'application/json','Content-Type':'application/json'},credentials:'include'});// const json = await res.json() // validate no error\nreturn res.status===204;}","map":{"version":3,"names":["serverUrl","getToken","getAllUsers","callback","token","res","fetch","method","headers","credentials","json","users","makeAdmin","id","concat","status","message","approveUser","banUser"],"sources":["C:/Users/conac/Desktop/OFICIAL/bookstore/frontend/src/api/users.js"],"sourcesContent":["import { serverUrl } from '../constants'\r\nimport { getToken } from '../utils/jwt'\r\n\r\nexport async function getAllUsers(callback) {\r\n    const token = getToken()\r\n    if (!token) {\r\n        return ''\r\n    }\r\n    const res = await fetch(serverUrl + '/users', {\r\n        method: 'GET',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n    })\r\n    const json = await res.json()\r\n    callback(json.users)\r\n}\r\n\r\nexport async function makeAdmin(id) {\r\n    const token = getToken()\r\n    if (!token) {\r\n        return ''\r\n    }\r\n    const res = await fetch(serverUrl + `/users/makeAdmin?id=${id}`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n    })\r\n    // const json = await res.json() // validate no error\r\n    if (res.status === 204) {\r\n        return true\r\n    } else {\r\n        const { message } = await res.json()\r\n        return message\r\n    }\r\n}\r\n\r\nexport async function approveUser(id) {\r\n    const token = getToken()\r\n    if (!token) {\r\n        return ''\r\n    }\r\n    const res = await fetch(serverUrl + `/users/approveUser?id=${id}`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n    })\r\n    // const json = await res.json() // validate no error\r\n    return res.status === 204\r\n}\r\n\r\nexport async function banUser(id) {\r\n    const token = getToken()\r\n    if (!token) {\r\n        return ''\r\n    }\r\n    const res = await fetch(serverUrl + `/users/banUser?id=${id}`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n    })\r\n    // const json = await res.json() // validate no error\r\n    return res.status === 204\r\n}\r\n\r\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,cAAc,CACxC,OAASC,QAAQ,KAAQ,cAAc,CAEvC,MAAO,eAAe,CAAAC,WAAWA,CAACC,QAAQ,CAAE,CACxC,KAAM,CAAAC,KAAK,CAAGH,QAAQ,CAAC,CAAC,CACxB,GAAI,CAACG,KAAK,CAAE,CACR,MAAO,EAAE,CACb,CACA,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,CAACN,SAAS,CAAG,QAAQ,CAAE,CAC1CO,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACL,QAAQ,CAAE,kBAAkB,CAC5B,cAAc,CAAE,kBACpB,CAAC,CACDC,WAAW,CAAE,SACjB,CAAC,CAAC,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAL,GAAG,CAACK,IAAI,CAAC,CAAC,CAC7BP,QAAQ,CAACO,IAAI,CAACC,KAAK,CAAC,CACxB,CAEA,MAAO,eAAe,CAAAC,SAASA,CAACC,EAAE,CAAE,CAChC,KAAM,CAAAT,KAAK,CAAGH,QAAQ,CAAC,CAAC,CACxB,GAAI,CAACG,KAAK,CAAE,CACR,MAAO,EAAE,CACb,CACA,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,CAACN,SAAS,wBAAAc,MAAA,CAA0BD,EAAE,CAAE,CAAE,CAC7DN,MAAM,CAAE,OAAO,CACfC,OAAO,CAAE,CACL,QAAQ,CAAE,kBAAkB,CAC5B,cAAc,CAAE,kBACpB,CAAC,CACDC,WAAW,CAAE,SACjB,CAAC,CAAC,CACF;AACA,GAAIJ,GAAG,CAACU,MAAM,GAAK,GAAG,CAAE,CACpB,MAAO,KAAI,CACf,CAAC,IAAM,CACH,KAAM,CAAEC,OAAQ,CAAC,CAAG,KAAM,CAAAX,GAAG,CAACK,IAAI,CAAC,CAAC,CACpC,MAAO,CAAAM,OAAO,CAClB,CACJ,CAEA,MAAO,eAAe,CAAAC,WAAWA,CAACJ,EAAE,CAAE,CAClC,KAAM,CAAAT,KAAK,CAAGH,QAAQ,CAAC,CAAC,CACxB,GAAI,CAACG,KAAK,CAAE,CACR,MAAO,EAAE,CACb,CACA,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,CAACN,SAAS,0BAAAc,MAAA,CAA4BD,EAAE,CAAE,CAAE,CAC/DN,MAAM,CAAE,OAAO,CACfC,OAAO,CAAE,CACL,QAAQ,CAAE,kBAAkB,CAC5B,cAAc,CAAE,kBACpB,CAAC,CACDC,WAAW,CAAE,SACjB,CAAC,CAAC,CACF;AACA,MAAO,CAAAJ,GAAG,CAACU,MAAM,GAAK,GAAG,CAC7B,CAEA,MAAO,eAAe,CAAAG,OAAOA,CAACL,EAAE,CAAE,CAC9B,KAAM,CAAAT,KAAK,CAAGH,QAAQ,CAAC,CAAC,CACxB,GAAI,CAACG,KAAK,CAAE,CACR,MAAO,EAAE,CACb,CACA,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,CAACN,SAAS,sBAAAc,MAAA,CAAwBD,EAAE,CAAE,CAAE,CAC3DN,MAAM,CAAE,OAAO,CACfC,OAAO,CAAE,CACL,QAAQ,CAAE,kBAAkB,CAC5B,cAAc,CAAE,kBACpB,CAAC,CACDC,WAAW,CAAE,SACjB,CAAC,CAAC,CACF;AACA,MAAO,CAAAJ,GAAG,CAACU,MAAM,GAAK,GAAG,CAC7B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}