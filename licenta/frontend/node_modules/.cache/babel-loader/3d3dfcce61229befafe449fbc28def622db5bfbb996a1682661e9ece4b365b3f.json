{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\conac\\\\Desktop\\\\OFICIAL\\\\bookstore\\\\frontend\\\\src\\\\components\\\\user\\\\user-row\\\\user-row.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { approveUser, banUser, makeAdmin } from '../../../api/users';\nimport { getEvenOddClass } from '../../../utils/classes';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function UserRow({\n  index,\n  id,\n  name_surname,\n  email,\n  phone,\n  role,\n  status,\n  penalties\n}) {\n  _s();\n  const [userRole, setRole] = useState(role);\n  const [userStatus, setStatus] = useState(status);\n  async function handleMakeAdminClicked() {\n    const res = await makeAdmin(id);\n    if (res !== null && res !== void 0 && res.length) {\n      // if true this should be undefined, otherwise error message\n      alert(res);\n    } else {\n      // cannot make admin if order is in progress\n      setRole('ADMIN');\n    }\n  }\n  async function handleApproveUser() {\n    await approveUser(id);\n    setStatus('ACTIVE');\n  }\n  async function handleBanUser() {\n    await banUser(id);\n    setStatus('BANNED');\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"table-head-col\",\n      children: \"Numar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `table-content-${getEvenOddClass(index)}`,\n      children: index + 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"table-head-col\",\n      children: \"Nume\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `table-content-${getEvenOddClass(index)}`,\n      children: name_surname\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"table-head-col\",\n      children: \"Email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `table-content-${getEvenOddClass(index)}`,\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: `/comenzi?userId=${id}`,\n        children: email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 73\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"table-head-col\",\n      children: \"Telefon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `table-content-${getEvenOddClass(index)}`,\n      children: phone\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"table-head-col\",\n      children: \"Rol\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `table-content-${getEvenOddClass(index)}`,\n      children: userRole\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"table-head-col\",\n      children: \"Statusul contului\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `table-content-${getEvenOddClass(index)} ${userStatus === 'WAITING FOR APPROVE' ? 'processing' : ''}`,\n      children: userStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"table-head-col\",\n      children: \"Intarzieri\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `table-content-${getEvenOddClass(index)}`,\n      children: penalties || 0\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"table-head-col\",\n      children: \"Actiuni\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `table-content-${getEvenOddClass(index)}`,\n      children: [userRole !== 'ADMIN' && userStatus === 'ACTIVE' && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleMakeAdminClicked,\n        children: \"Make admin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 69\n      }, this), userRole !== 'ADMIN' && userStatus === 'ACTIVE' && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleBanUser,\n        children: \"Ban\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 69\n      }, this), userStatus === 'WAITING FOR APPROVE' && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleApproveUser,\n        children: \"Approve\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 58\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(UserRow, \"iNHm8fdL+P4YR7Wm13nN/VduyZ8=\");\n_c = UserRow;\nvar _c;\n$RefreshReg$(_c, \"UserRow\");","map":{"version":3,"names":["useState","approveUser","banUser","makeAdmin","getEvenOddClass","jsxDEV","_jsxDEV","Fragment","_Fragment","UserRow","index","id","name_surname","email","phone","role","status","penalties","_s","userRole","setRole","userStatus","setStatus","handleMakeAdminClicked","res","length","alert","handleApproveUser","handleBanUser","children","className","fileName","_jsxFileName","lineNumber","columnNumber","href","onClick","_c","$RefreshReg$"],"sources":["C:/Users/conac/Desktop/OFICIAL/bookstore/frontend/src/components/user/user-row/user-row.jsx"],"sourcesContent":["import { useState } from 'react'\r\nimport { approveUser, banUser, makeAdmin } from '../../../api/users'\r\nimport { getEvenOddClass } from '../../../utils/classes'\r\n\r\nexport default function UserRow({ index, id, name_surname, email, phone, role, status, penalties }) {\r\n    const [userRole, setRole] = useState(role)\r\n    const [userStatus, setStatus] = useState(status)\r\n\r\n    async function handleMakeAdminClicked() {\r\n        const res = await makeAdmin(id)\r\n        if (res?.length) { // if true this should be undefined, otherwise error message\r\n            alert(res)\r\n        } else {\r\n            // cannot make admin if order is in progress\r\n            setRole('ADMIN')\r\n        }\r\n    }\r\n\r\n    async function handleApproveUser() {\r\n        await approveUser(id)\r\n        setStatus('ACTIVE')\r\n    }\r\n\r\n    async function handleBanUser() {\r\n        await banUser(id)\r\n        setStatus('BANNED')\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <span className=\"table-head-col\">Numar</span>\r\n            <span className={`table-content-${getEvenOddClass(index)}`}>{index + 1}</span>\r\n            <span className=\"table-head-col\">Nume</span>\r\n            <span className={`table-content-${getEvenOddClass(index)}`}>{name_surname}</span>\r\n            <span className=\"table-head-col\">Email</span>\r\n            <span className={`table-content-${getEvenOddClass(index)}`}><a href={`/comenzi?userId=${id}`}>{email}</a></span>\r\n            <span className=\"table-head-col\">Telefon</span>\r\n            <span className={`table-content-${getEvenOddClass(index)}`}>{phone}</span>\r\n            <span className=\"table-head-col\">Rol</span>\r\n            <span className={`table-content-${getEvenOddClass(index)}`}>{userRole}</span>\r\n            <span className=\"table-head-col\">Statusul contului</span>\r\n            <span className={`table-content-${getEvenOddClass(index)} ${userStatus === 'WAITING FOR APPROVE' ? 'processing' : ''}`}>{userStatus}</span>\r\n            <span className=\"table-head-col\">Intarzieri</span>\r\n            <span className={`table-content-${getEvenOddClass(index)}`}>{penalties || 0}</span>\r\n            <span className=\"table-head-col\">Actiuni</span>\r\n            <span className={`table-content-${getEvenOddClass(index)}`}>\r\n                {userRole !== 'ADMIN' && userStatus === 'ACTIVE' && <button onClick={handleMakeAdminClicked}>Make admin</button>}\r\n                {userRole !== 'ADMIN' && userStatus === 'ACTIVE' && <button onClick={handleBanUser}>Ban</button>}\r\n                {userStatus === 'WAITING FOR APPROVE' && <button onClick={handleApproveUser}>Approve</button>}\r\n            </span>\r\n            <hr />\r\n            <hr />\r\n        </>\r\n    )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}