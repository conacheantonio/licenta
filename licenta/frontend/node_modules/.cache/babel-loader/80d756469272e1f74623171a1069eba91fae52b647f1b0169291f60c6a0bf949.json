{"ast":null,"code":"import{serverUrl}from'../constants';import{getToken}from'../utils/jwt';export async function getOrders(setOrders,isAdmin,userId){const token=getToken();if(!token){return'';}const res=await fetch(serverUrl+\"/order\".concat(isAdmin?'?userId='+userId:'/list'),{method:'GET',headers:{'Accept':'application/json','Content-Type':'application/json'},credentials:'include'});const orders=await res.json();setOrders(orders);}export async function placeOrder(userId,bookIds){const token=getToken();if(!token){return'';}const res=await fetch(serverUrl+'/order',{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},credentials:'include',body:JSON.stringify({userId,bookIds})});if(res.status===204){return true;}else{const{message}=await res.json();return message;}}export async function approveOrder(id){const token=getToken();if(!token){return'';}const res=await fetch(serverUrl+\"/order/approve?id=\".concat(id),{method:'PATCH',headers:{'Accept':'application/json','Content-Type':'application/json'},credentials:'include'});return res.status===204;}export async function denyOrder(id){const token=getToken();if(!token){return'';}const res=await fetch(serverUrl+\"/order/deny?id=\".concat(id),{method:'PATCH',headers:{'Accept':'application/json','Content-Type':'application/json'},credentials:'include'});return res.status===204;}export async function requestExtendOrder(id){const token=getToken();if(!token){return'';}const res=await fetch(serverUrl+\"/order/requestExtend?id=\".concat(id),{method:'PATCH',headers:{'Accept':'application/json','Content-Type':'application/json'},credentials:'include'});return res.status===204;}export async function approveExtendOrder(id){const token=getToken();if(!token){return'';}const res=await fetch(serverUrl+\"/order/approveExtend?id=\".concat(id),{method:'PATCH',headers:{'Accept':'application/json','Content-Type':'application/json'},credentials:'include'});return res.status===204;}export async function denyExtendOrder(id){const token=getToken();if(!token){return'';}const res=await fetch(serverUrl+\"/order/denyExtend?id=\".concat(id),{method:'PATCH',headers:{'Accept':'application/json','Content-Type':'application/json'},credentials:'include'});return res.status===204;}export async function returnBook(id){const token=getToken();if(!token){return'';}const res=await fetch(serverUrl+\"/order/returnBook?id=\".concat(id),{method:'PATCH',headers:{'Accept':'application/json','Content-Type':'application/json'},credentials:'include'});return res.status===204;}","map":{"version":3,"names":["serverUrl","getToken","getOrders","setOrders","isAdmin","userId","token","res","fetch","concat","method","headers","credentials","orders","json","placeOrder","bookIds","body","JSON","stringify","status","message","approveOrder","id","denyOrder","requestExtendOrder","approveExtendOrder","denyExtendOrder","returnBook"],"sources":["C:/Users/conac/Desktop/OFICIAL/bookstore/frontend/src/api/orders.js"],"sourcesContent":["import { serverUrl } from '../constants'\r\nimport { getToken } from '../utils/jwt'\r\n\r\nexport async function getOrders(setOrders, isAdmin, userId) {\r\n    const token = getToken()\r\n    if (!token) {\r\n        return ''\r\n    }\r\n    const res = await fetch(serverUrl + `/order${isAdmin ? '?userId=' + userId : '/list' }`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n    })\r\n    const orders = await res.json()\r\n    setOrders(orders)\r\n}\r\n\r\nexport async function placeOrder(userId, bookIds) {\r\n    const token = getToken()\r\n    if (!token) {\r\n        return ''\r\n    }\r\n    const res = await fetch(serverUrl + '/order', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify({\r\n            userId,\r\n            bookIds\r\n        })\r\n    })\r\n    if (res.status === 204) {\r\n        return true\r\n    } else {\r\n        const { message } = await res.json()\r\n        return message\r\n    }\r\n}\r\n\r\nexport async function approveOrder(id) {\r\n    const token = getToken()\r\n    if (!token) {\r\n        return ''\r\n    }\r\n    const res = await fetch(serverUrl + `/order/approve?id=${id}`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n    })\r\n    return res.status === 204\r\n}\r\n\r\nexport async function denyOrder(id) {\r\n    const token = getToken()\r\n    if (!token) {\r\n        return ''\r\n    }\r\n    const res = await fetch(serverUrl + `/order/deny?id=${id}`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n    })\r\n    return res.status === 204\r\n}\r\n\r\nexport async function requestExtendOrder(id) {\r\n    const token = getToken()\r\n    if (!token) {\r\n        return ''\r\n    }\r\n    const res = await fetch(serverUrl + `/order/requestExtend?id=${id}`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n    })\r\n    return res.status === 204\r\n}\r\n\r\nexport async function approveExtendOrder(id) {\r\n    const token = getToken()\r\n    if (!token) {\r\n        return ''\r\n    }\r\n    const res = await fetch(serverUrl + `/order/approveExtend?id=${id}`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n    })\r\n    return res.status === 204\r\n}\r\n\r\nexport async function denyExtendOrder(id) {\r\n    const token = getToken()\r\n    if (!token) {\r\n        return ''\r\n    }\r\n    const res = await fetch(serverUrl + `/order/denyExtend?id=${id}`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n    })\r\n    return res.status === 204\r\n}\r\n\r\nexport async function returnBook(id) {\r\n    const token = getToken()\r\n    if (!token) {\r\n        return ''\r\n    }\r\n    const res = await fetch(serverUrl + `/order/returnBook?id=${id}`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n    })\r\n    return res.status === 204\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}